# RyuZU Technical Magic

## **ゲームフロー概要**
1. ログイン処理
2. チュートリアル
3. アイテム整理、ガチャ、ショップ、ホットバーセット
4. ゲームで遊ぶ(ゲーム中に特定の行動を起こすことで報酬)
5. ロビーサーバーに戻る
6. ログアウト処理

# 詳細実装

## ログイン処理
1. 接続できるロビーサーバーを自動選択
2. プレイヤーデータ取得 & Redis Queueに報酬データがあれば読み込み&配布
3. 無ければ作成
4. 読み込まれるまですべての動作を停止させる
5. 書き込み中であればそれも待つ

## チュートリアル
1. チュートリアル完了フラグを所持していなければプレイヤーデータを初期化してチュートリアル開始地点にテレポート
2. ゲーム概要説明 ホログラム
3. 初期武器付与
4. 敵を倒してもらう
5. ブロック破壊ツール一式を付与
6. ブロックを破壊してもらう
7. スタージェネレーター、アイテムジェネレーターの説明
8. アイテムをスターを消費して使ってもらう
9. メカニクス、結界を付与
10. メカニクスと結界を起動してもらう
11. チュートリアルクリアフラグ付与。実績解除&報酬付与

## アイテム整理、ガチャ、ショップ、ホットバーセット
1. ガチャはPUシステムを採用。スキンガチャにも作る。期間限定など
2. ゲームサーバーはReadonly
3. ロビーサーバー -> ロビーサーバーは書き込みを行わない
4. ロビーサーバー -> ゲームサーバーは書き込みを行う

## ゲームで遊ぶ
1. エントリーゲートからゲームに参加
2. ゲームで特定の行動毎 + ゲーム時間で報酬を用意 XPとGoldとイベントアイテム
3. ゲームの勝敗でイベントアイテム、勝者の証
4. 報酬はすべてRedis Queueに格納

## ログアウト処理
1. MongoDBにプレイヤーデータの格納


## プレイヤーデータ
1. インベントリ情報
2. エンダーチェスト情報
3. 寄付コンテンツ
4. 実績進行度
5. XP&Gold
6. 武器スキン

## TODO
1. Docker